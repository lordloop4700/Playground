<!DOCTYPE html>
<html>
    <head>

    </head>
    <script>

        var test1 = undefined;
        
        async function send_() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'https://filfox.info/api/v1/address/f0127595'); //나중에 입력 받아서 모든 머신에 대해서 값을 가져와야함.
        
            xhr.onload = await function() {
                if (xhr.status === 200 || xhr.status === 201) {
                    let parsing_data = xhr.response;
                    parsing_data = JSON.parse(parsing_data);
                    /*
                        parsing_data.balance = 계정잔액(FIL)
                        parsing_data.miner.availableBalance = 사용 가능 잔액(FIL)
                        parsing_data.miner.sectorPledgeBalance = Initial pledge(FIL)
    
                    */
    
                    console.log(parsing_data)
                    let result = [ parsing_data.balance, parsing_data.miner.availableBalance, parsing_data.miner.sectorPledgeBalance]
                    
                    var interval = setInterval(function(){
                        document.getElementById('fuck').innerHTML = "<h3>" + parsing_data.balance + "</h3>";
                    }, 200);
                    
                    
        
                }   else
                        console.log("check filfox response");
                };
            
            // xhr.setRequestHeader('Content-Type', 'application/json');
            await xhr.send();
        }
        
        (async () => {
            let test2 = await send_()
            console.log(test2)
        })();
        
        
        // var param = send();
        // console.log(param['availableBalance']);
        // console.log(param);
        
        
    </script>
    <body>
        <td class="td1"><div id="fuck"></div></td>
    </body>
</html>
